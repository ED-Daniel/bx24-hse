<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="4" skipped="0" tests="21" time="0.724" timestamp="2025-10-22T23:57:57.380205+03:00" hostname="Daniels-MacBook-Pro.local"><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_find_poll_form_success" time="0.002" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_find_poll_form_not_found" time="0.002" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_find_existing_contact" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_create_new_contact" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_create_contact_with_utm" time="0.005" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_find_educational_programs_success" time="0.003"><failure message="AssertionError: assert 'Цифровой юрист' == 'Античность'&#10;  &#10;  #x1B[0m#x1B[91m- Античность#x1B[39;49;00m#x1B[90m#x1B[39;49;00m&#10;  #x1B[92m+ Цифровой юрист#x1B[39;49;00m#x1B[90m#x1B[39;49;00m">tests/unit/test_integration_service.py:132: in test_find_educational_programs_success
    assert programs[1]["NAME"] == "Античность"
E   AssertionError: assert 'Цифровой юрист' == 'Античность'
E     
E     #x1B[0m#x1B[91m- Античность#x1B[39;49;00m#x1B[90m#x1B[39;49;00m
E     #x1B[92m+ Цифровой юрист#x1B[39;49;00m#x1B[90m#x1B[39;49;00m</failure></testcase><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_find_educational_programs_not_found" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_find_educational_programs_partial_match" time="0.001"><failure message="Failed: DID NOT RAISE &lt;class 'Exception'&gt;">tests/unit/test_integration_service.py:152: in test_find_educational_programs_partial_match
    with pytest.raises(Exception) as exc_info:
         ^^^^^^^^^^^^^^^^^^^^^^^^
E   Failed: DID NOT RAISE &lt;class 'Exception'&gt;</failure></testcase><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_find_existing_deal" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_create_new_deal" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_create_deal_without_program" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_enrich_deal_with_full_data" time="0.002" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_enrich_deal_minimal_data" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_extract_additional_fields" time="0.001"><failure message="AssertionError: assert 'hse_school' in {'additionalfield1': '\u0423\u0447\u0430\u0449\u0438\u0439\u0441\u044f 9-10 \u043a\u043b\u0430\u0441\u0441\u043e\u0432', 'additionalfield3': '\u041c\u043e\u0441\u043a\u0432\u0430', 'question1': '\u041f\u043e\u0447\u0435\u043c\u0443 \u0432\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u044d\u0442\u0443 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443?', 'question2': '\u041a\u0430\u043a\u043e\u0432\u044b \u0432\u0430\u0448\u0438 \u043a\u0430\u0440\u044c\u0435\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u043d\u044b \u043f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b?'}">tests/unit/test_integration_service.py:275: in test_extract_additional_fields
    assert "hse_school" in additional_fields
E   AssertionError: assert 'hse_school' in {'additionalfield1': '\u0423\u0447\u0430\u0449\u0438\u0439\u0441\u044f 9-10 \u043a\u043b\u0430\u0441\u0441\u043e\u0432', 'additionalfield3': '\u041c\u043e\u0441\u043a\u0432\u0430', 'question1': '\u041f\u043e\u0447\u0435\u043c\u0443 \u0432\u044b \u0432\u044b\u0431\u0440\u0430\u043b\u0438 \u044d\u0442\u0443 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0443?', 'question2': '\u041a\u0430\u043a\u043e\u0432\u044b \u0432\u0430\u0448\u0438 \u043a\u0430\u0440\u044c\u0435\u0440\u043d\u044b\u0435 \u043f\u043b\u0430\u043d\u044b \u043f\u043e\u0441\u043b\u0435 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b?'}</failure></testcase><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_extract_additional_fields_empty" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_build_deal_comment_full" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_build_deal_comment_minimal" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_process_webhook_with_programs" time="0.002" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_process_webhook_without_programs" time="0.001"><failure message="AssertionError: assert None == '\u041e\u0431\u0449\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430'">tests/unit/test_integration_service.py:388: in test_process_webhook_without_programs
    assert result["deals"][0]["program_name"] == "Общая сделка"
E   AssertionError: assert None == '\u041e\u0431\u0449\u0430\u044f \u0441\u0434\u0435\u043b\u043a\u0430'</failure></testcase><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_process_webhook_poll_form_not_found" time="0.001" /><testcase classname="tests.unit.test_integration_service.TestBitrixIntegrationService" name="test_process_webhook_email_missing" time="0.001" /></testsuite></testsuites>